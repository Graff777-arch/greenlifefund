const CONTRACT_ADDRESS="0x6867858Ff16FE8992F4C68018a4Ad0C1Be300dA1";
const ABI=["function donate(string memory region) public payable"];
let provider, signer, contract;
async function connectWallet(){if(window.ethereum){provider=new ethers.BrowserProvider(window.ethereum);await ethereum.request({method:'eth_requestAccounts'});signer=await provider.getSigner();contract=new ethers.Contract(CONTRACT_ADDRESS,ABI,signer);document.getElementById('status').innerText='Wallet connected';}else alert('Install MetaMask');}
async function donate(e){e.preventDefault();const region=document.getElementById('regionSelect').value;const amount=document.getElementById('amount').value;if(!contract)return alert('Connect wallet');try{const tx=await contract.donate(region,{value:ethers.parseEther(amount)});document.getElementById('status').innerText='Sending...';await tx.wait();document.getElementById('status').innerText='Thank you!';}catch(err){console.error(err);document.getElementById('status').innerText='Error sending';}}